# Ghost Detector - iOS App

Развлекательное приложение-детектор призраков для iOS, созданное на SwiftUI.

## Структура проекта

```
Ghost/
├── Models/
│   ├── UserSettings.swift          # Модель настроек пользователя
│   └── GhostDetection.swift        # Модели для детекции (точки радара, магнитометр)
├── Services/
│   ├── StorageService.swift        # Работа с UserDefaults
│   ├── AudioService.swift          # Воспроизведение звуков
│   ├── CameraService.swift         # Работа с камерой (фон)
│   ├── RadarService.swift          # Симуляция радара
│   ├── MagnetometerService.swift   # Симуляция магнитометра
│   ├── OnboardingService.swift     # Логика онбординга
│   └── PaywallService.swift        # Логика paywall
├── ViewModels/
│   ├── MainViewModel.swift         # ViewModel главного экрана
│   ├── OnboardingViewModel.swift   # ViewModel онбординга
│   └── PaywallViewModel.swift      # ViewModel paywall
├── Views/
│   ├── MainView.swift              # Главный экран
│   ├── RadarView.swift             # Вид радара
│   ├── MagnetometerView.swift      # Вид магнитометра
│   ├── OnboardingView.swift        # Экран онбординга
│   └── PaywallView.swift           # Экран paywall
├── GhostApp.swift                  # Точка входа приложения
└── Info.plist                      # Разрешения (камера, микрофон)
```

## Основные функции

- **Камера как фон**: Использует заднюю камеру как живой фон приложения
- **Фейковый радар**: Анимированные точки, появляющиеся случайным образом
- **Фейковый магнитометр**: Симуляция показаний с анимацией свечи
- **Случайные звуки**: Воспроизведение предзагруженных аудиофайлов
- **Onboarding**: Экран приветствия при первом запуске
- **Paywall**: Экран для разблокировки Premium функций
- **Настройки**: Управление звуком и чувствительностью радара

## Требования

- iOS 18.2+
- Xcode 16.2+
- Swift 5.0+

## Установка

1. Откройте проект в Xcode
2. Добавьте звуковые файлы в проект (форматы: .mp3, .wav, .m4a, .aac)
3. Добавьте видео файлы, если планируете их использовать
4. Настройте App Icon в Assets.xcassets
5. Соберите и запустите проект

## Добавление звуков

Поместите звуковые файлы в папку проекта. AudioService автоматически обнаружит файлы с расширениями:
- .mp3
- .wav
- .m4a
- .aac

## Настройка Info.plist

Разрешения для камеры и микрофона уже настроены в Info.plist. При необходимости можно изменить описания разрешений.

## Архитектура

Приложение использует паттерн MVVM (Model-View-ViewModel) с сервисным слоем:

- **Models**: Структуры данных
- **Services**: Бизнес-логика и работа с системными сервисами
- **ViewModels**: Связь между View и Services
- **Views**: UI компоненты SwiftUI

## Хранение данных

Все данные хранятся в UserDefaults через StorageService. CoreData не используется.

## Интеграция StoreKit

Для реальных покупок необходимо:
1. Настроить StoreKit в проекте
2. Обновить PaywallService для работы с реальными покупками
3. Добавить обработку восстановления покупок

## Следующие шаги

1. Добавить звуковые и видео файлы в проект
2. Настроить дизайн (цвета, иконки, изображения)
3. Интегрировать StoreKit для реальных покупок
4. Протестировать на реальных устройствах
5. Подготовить для публикации в App Store
